# üöÄ –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π –Ω–∞ VPS - –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## üì¶ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∞—Ä—Ö–∏–≤–∞ (–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ)

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞ –¥–ª—è VPS
./pack-for-vps.sh
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –∞—Ä—Ö–∏–≤ `roblox-garden-vps-YYYYMMDD-HHMMSS.tar.gz` —Å–æ –≤—Å–µ–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏.

## üñ•Ô∏è –î–µ–ø–ª–æ–π –Ω–∞ VPS

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ VPS
```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∞—Ä—Ö–∏–≤ –Ω–∞ VPS –ª—é–±—ã–º —Å–ø–æ—Å–æ–±–æ–º (scp, wget, etc.)
scp roblox-garden-vps-*.tar.gz user@your-vps-ip:~/

# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ VPS
ssh user@your-vps-ip
```

### 2. –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
```bash
# –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ –∞—Ä—Ö–∏–≤–∞
tar -xzf roblox-garden-vps-*.tar.gz
cd roblox-garden

# –ü–µ—Ä–≤–∏—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ VPS (—É—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker, etc.)
# –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–∞–∫ –æ—Ç root, —Ç–∞–∫ –∏ –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
./vps-setup.sh

# –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –æ—Ç root –±—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è docker-user
# –ò–ª–∏ –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:
# DOCKER_USER_PASSWORD="your_secure_password" ./vps-setup.sh

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ (–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤ Docker)
sudo reboot  # –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ reboot –µ—Å–ª–∏ –∑–∞–ø—É—Å–∫–∞–ª–∏ –æ—Ç root
```

### 3. –î–µ–ø–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
# –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
cd roblox-garden

# –ó–∞–ø—É—Å–∫ –¥–µ–ø–ª–æ—è (–º–æ–∂–Ω–æ –æ—Ç root –∏–ª–∏ –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
./deploy-vps.sh

# –ï—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—ã–ø–æ–ª–Ω—è–ª–∞—Å—å –æ—Ç root, —Ç–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ docker-user:
# su - docker-user
# cd /home/docker-user/roblox-garden
# ./deploy-vps.sh
```

–°–∫—Ä–∏–ø—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç:
- **Telegram Bot Token** (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather)
- **Updates Channel ID** (–Ω–∞–ø—Ä–∏–º–µ—Ä: -1001234567890)
- **Full Report Channel ID** (–Ω–∞–ø—Ä–∏–º–µ—Ä: -1001234567891)

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
```bash
# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose -f docker-compose.vps.yml ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose -f docker-compose.vps.yml logs -f

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
docker stats roblox-garden-prod
```

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–º

### –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose -f docker-compose.vps.yml down

# –ó–∞–ø—É—Å–∫
docker-compose -f docker-compose.vps.yml up -d

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose -f docker-compose.vps.yml restart

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker-compose -f docker-compose.vps.yml logs -f
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∞–ª–∏–∞—Å—ã (—Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```bash
rg-logs     # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
rg-status   # –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
rg-restart  # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
rg-stop     # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
rg-start    # –ó–∞–ø—É—Å–∫
rg-update   # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ git
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –§–∞–π–ª—ã —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏ (—Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- `secrets/telegram_bot_token.txt` - –¢–æ–∫–µ–Ω –±–æ—Ç–∞
- `secrets/updates_channel_id.txt` - ID –∫–∞–Ω–∞–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- `secrets/full_channel_id.txt` - ID –∫–∞–Ω–∞–ª–∞ –ø–æ–ª–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤

–í—Å–µ —Ñ–∞–π–ª—ã –∏–º–µ—é—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ 600 (—Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü).

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤
tar -czf secrets_backup_$(date +%Y%m%d).tar.gz secrets/
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ
Systemd —Å–µ—Ä–≤–∏—Å —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –¥–µ–ø–ª–æ–µ.

### Health Check
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
docker-compose -f docker-compose.vps.yml exec roblox-garden python -c "print('‚úÖ App is healthy')"

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats roblox-garden-prod
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
–°–æ–∑–¥–∞–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç `health_monitor.sh`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç.

## üÜò –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º—ã —Å Docker
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Docker
docker --version
docker-compose --version

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤
docker ps

# –ï—Å–ª–∏ –Ω–µ—Ç –ø—Ä–∞–≤
sudo usermod -aG docker $USER
# –ó–∞—Ç–µ–º logout/login
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º
```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É
docker-compose -f docker-compose.vps.yml exec roblox-garden bash

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ —Å –æ—à–∏–±–∫–∞–º–∏
docker-compose -f docker-compose.vps.yml logs | grep -i error

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker-compose -f docker-compose.vps.yml build --no-cache
```

### –û—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã
```bash
# –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –æ–±—Ä–∞–∑–æ–≤
docker system prune -a

# –û—á–∏—Å—Ç–∫–∞ —Ç–æ–º–æ–≤
docker volume prune
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### –ò–∑ Git (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
```bash
cd roblox-garden
git pull origin main
docker-compose -f docker-compose.vps.yml up --build -d
```

### –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∞—Ä—Ö–∏–≤ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–∞ VPS
3. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é: `docker-compose -f docker-compose.vps.yml down`
4. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `./deploy-vps.sh`

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ VPS

- **OS**: Ubuntu 20.04+ –∏–ª–∏ Debian 11+
- **RAM**: –ú–∏–Ω–∏–º—É–º 1GB (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 2GB)
- **–î–∏—Å–∫**: –ú–∏–Ω–∏–º—É–º 10GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **CPU**: 1 vCore (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ shared CPU)
- **–°–µ—Ç—å**: –°—Ç–∞–±–∏–ª—å–Ω–æ–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

## üîë –†–∞–±–æ—Ç–∞ —Å root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
–ï—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –æ—Ç root, –æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –°–æ–∑–¥–∞—é—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `docker-user` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å Docker
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç –≤—Å–µ –ø—Ä–∞–≤–∞ –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É—é—Ç systemd —Å–µ—Ä–≤–∏—Å—ã

### –í–∞—Ä–∏–∞–Ω—Ç—ã –∑–∞–ø—É—Å–∫–∞
```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–ø—É—Å–∫ –æ—Ç root —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º –ø–∞—Ä–æ–ª–µ–º
sudo su
./vps-setup.sh
# –ë—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å –¥–ª—è docker-user
reboot

# –í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞–ø—É—Å–∫ –æ—Ç root —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–∞—Ä–æ–ª–µ–º
sudo su
DOCKER_USER_PASSWORD="your_secure_password" ./vps-setup.sh
reboot

# –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ç docker-user
su - docker-user  # –ø–æ—Ç—Ä–µ–±—É–µ—Ç –ø–∞—Ä–æ–ª—å
cd /home/docker-user/roblox-garden
./deploy-vps.sh

# –í–∞—Ä–∏–∞–Ω—Ç 3: –ó–∞–ø—É—Å–∫ –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
./vps-setup.sh
sudo reboot

# –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
./deploy-vps.sh
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **root**: –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ docker-user
- **docker-user**: –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–ª—è Docker –æ–ø–µ—Ä–∞—Ü–∏–π
- **–æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: –¢—Ä–µ–±—É–µ—Ç sudo –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è –≤–∞—à –±–æ—Ç –±—É–¥–µ—Ç:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ VPS
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å—Å—è —Å–∏—Å—Ç–µ–º–æ–π –∑–¥–æ—Ä–æ–≤—å—è
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å–æ–±—ã—Ç–∏—è
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω –ø–æ —Ä–µ—Å—É—Ä—Å–∞–º –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- ‚úÖ –ó–∞—â–∏—â–µ–Ω –æ—Ç –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–º–æ—â–∏ –∏–∑—É—á–∏—Ç–µ —Ñ–∞–π–ª `VPS_DEPLOY.md` –∏–ª–∏ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
